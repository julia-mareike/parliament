{"version":3,"sources":["webpack:///./src/pages/polls.js"],"names":["pollsArray","Object","useStyles","parliament","pollTab","coordinates","getCoordinates","useState","tabValue","setTabValue","getSeatAllocations","electorates","polls","votes","seats","setSeats","activePoll","setActivePoll","handleChange","event","textContent","name","removeWhitespace","Polls","value","onChange","indicatorColor","textColor","variant","poll","label","formatName","key","disabled","className","title","container","spacing","direction","justify","alignItems","item","xs","md","mdUp","sm","smDown"],"mappings":"4FAAA,wJA+EA,UApEoB,WAClB,IAAMA,EAAaC,YAAnB,KADwB,EAEQC,cAAxBC,EAFgB,aAEJC,EAFI,UAGlBC,EAAcC,cAHI,EAKQC,mBALR,GAKjBC,EALiB,KAKPC,EALO,OAMEF,mBAASG,YAAmB,KAAM,CAAEC,YAAaC,IAAMZ,EAANY,IAAf,YAAiDC,MAAOD,IAAMZ,EAANY,IAAqBC,SAAlIC,EANiB,KAMVC,EANU,OAOYR,mBAASP,EAPrB,IAOjBgB,EAPiB,KAOLC,EAPK,KASlBC,EAAe,SAACC,EAAM,GAAe,IACjCC,EAAgBD,EADgB,mBAElCE,EAAOC,YAAb,GACAP,EAASL,YAAmB,KAAM,CAAEG,MAAOD,OAAT,MAA4BD,YAAaC,OAAYD,eACvFF,KACAQ,MAGIM,EAAQ,WACZ,OACE,uBACEC,MADF,EAEEC,SAFF,EAGEC,eAHF,UAIEC,UAJF,UAKEC,QAAQ,aAEP5B,EAAA,KAAe,SAAA6B,GACd,OACE,uBACEC,MAAOC,YADT,GAEEV,KAFF,EAGEW,IAHF,EAIEC,SAJF,QAIYJ,EACVK,UAAW9B,SAQvB,OACE,2BACE,uBAAK+B,MAAM,UACX,uBAAMC,WAAN,EAAgBC,QAAhB,EAA4BC,UAA5B,MAA4CC,QAA5C,SAA6DC,WAAW,UACtE,uBAAMC,MAAN,EAAWC,GAAX,GAAmBC,GAAnB,EAA0BT,UAAW/B,GACnC,uBAAYE,YAAZ,EAAsCS,MAAOA,KAE/C,uBAAMsB,WAAN,EAAgBK,MAAhB,EAAqBJ,QAArB,EAAiCK,GAAjC,GAAyCC,GAAzC,EAAgDJ,QAAQ,UACtD,uBAAQK,MAAI,GACV,uBAAMH,MAAN,EAAWC,GAAI,IACb,oBAHN,QAME,uBAAMD,MAAN,EAAWC,GAAX,GAAmBG,GAAI,IACrB,uBAAS7B,WAAYA,MAGzB,uBAAQ8B,QAAM,GACZ,uBAAMV,WAAN,EAAgBC,QAAhB,EAA4BC,UAA5B,MAA4CC,QAA5C,eAAmEC,WAAW,UAC5E,oBAnBV","file":"component---src-pages-polls-js-d8d9c1be287ccc149294.js","sourcesContent":["import React, { useState } from 'react'\nimport { Grid, Tabs, Tab, Hidden } from '@material-ui/core'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport { Parliament } from '../components/parliament'\nimport { Results } from '../components/results'\n\nimport { getCoordinates, getSeatAllocations, formatName, removeWhitespace, useStyles } from '../utils'\nimport { polls } from '../utils/polls'\n\nconst PollResults = () => {\n  const pollsArray = Object.keys(polls)\n  const { parliament, pollTab } = useStyles()\n  const coordinates = getCoordinates()\n\n  const [tabValue, setTabValue] = useState(0)\n  const [seats, setSeats] = useState(getSeatAllocations(null, { electorates: polls[pollsArray[0]].electorates, votes: polls[pollsArray[0]].votes }))\n  const [activePoll, setActivePoll] = useState(pollsArray[0])\n\n  const handleChange = (event, newValue) => {\n    const { textContent } = event.target\n    const name = removeWhitespace(textContent)\n    setSeats(getSeatAllocations(null, { votes: polls[name].votes, electorates: polls[name].electorates }))\n    setTabValue(newValue)\n    setActivePoll(name)\n  }\n\n  const Polls = () => {\n    return (\n      <Tabs\n        value={tabValue}\n        onChange={handleChange}\n        indicatorColor='primary'\n        textColor='primary'\n        variant='fullWidth'\n      >\n        {pollsArray.map(poll => {\n          return (\n            <Tab\n              label={formatName(poll)}\n              name={poll}\n              key={poll}\n              disabled={poll === 'rnz'}\n              className={pollTab}\n            />\n          )\n        })}\n      </Tabs>\n    )\n  }\n\n  return (\n    <Layout>\n      <SEO title='Polls' />\n      <Grid container spacing={2} direction='row' justify='center' alignItems='center' >\n        <Grid item xs={12} md={6} className={parliament}>\n          <Parliament coordinates={coordinates} seats={seats} />\n        </Grid>\n        <Grid container item spacing={1} xs={12} md={6} justify='center'>\n          <Hidden mdUp>\n            <Grid item xs={12}>\n              <Polls />\n            </Grid>\n          </Hidden>\n          <Grid item xs={12} sm={10}>\n            <Results activePoll={activePoll} />\n          </Grid>\n        </Grid>\n        <Hidden smDown>\n          <Grid container spacing={4} direction='row' justify='space-evenly' alignItems='center'>\n            <Polls />\n          </Grid>\n        </Hidden>\n      </Grid>\n    </Layout>\n  )\n}\n\nexport default PollResults\n"],"sourceRoot":""}