{"version":3,"sources":["webpack:///./src/pages/polls.js"],"names":["PollResults","pollsArray","Object","keys","polls","useStyles","parliament","pollTab","coordinates","getCoordinates","useState","tabValue","setTabValue","getSeatAllocations","electorates","votes","seats","setSeats","activePoll","setActivePoll","handleChange","event","newValue","textContent","target","name","removeWhitespace","Polls","value","onChange","indicatorColor","textColor","variant","map","poll","label","formatName","key","disabled","className","title","container","spacing","direction","justify","alignItems","item","xs","md","mdUp","sm","smDown"],"mappings":"4FAAA,wJA+EeA,UApEK,WAClB,IAAMC,EAAaC,OAAOC,KAAKC,KADP,EAEQC,cAAxBC,EAFgB,EAEhBA,WAAYC,EAFI,EAEJA,QACdC,EAAcC,cAHI,EAKQC,mBAAS,GAAlCC,EALiB,KAKPC,EALO,OAMEF,mBAASG,YAAmB,KAAM,CAAEC,YAAaV,IAAMH,EAAW,IAAIa,YAAaC,MAAOX,IAAMH,EAAW,IAAIc,SAAlIC,EANiB,KAMVC,EANU,OAOYP,mBAAST,EAAW,IAAjDiB,EAPiB,KAOLC,EAPK,KASlBC,EAAe,SAACC,EAAOC,GAAc,IACjCC,EAAgBF,EAAMG,OAAtBD,YACFE,EAAOC,YAAiBH,GAC9BN,EAASJ,YAAmB,KAAM,CAAEE,MAAOX,IAAMqB,GAAMV,MAAOD,YAAaV,IAAMqB,GAAMX,eACvFF,EAAYU,GACZH,EAAcM,IAGVE,EAAQ,WACZ,OACE,kBAAC,IAAD,CACEC,MAAOjB,EACPkB,SAAUT,EACVU,eAAe,UACfC,UAAU,UACVC,QAAQ,aAEP/B,EAAWgC,KAAI,SAAAC,GACd,OACE,kBAAC,IAAD,CACEC,MAAOC,YAAWF,GAClBT,KAAMS,EACNG,IAAKH,EACLI,SAAmB,QAATJ,EACVK,UAAWhC,SAQvB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKiC,MAAM,eACX,kBAAC,IAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,UAAU,MAAMC,QAAQ,SAASC,WAAW,UACtE,kBAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGT,UAAWjC,GACnC,kBAAC,IAAD,CAAYE,YAAaA,EAAaQ,MAAOA,KAE/C,kBAAC,IAAD,CAAMyB,WAAS,EAACK,MAAI,EAACJ,QAAS,EAAGK,GAAI,GAAIC,GAAI,EAAGJ,QAAQ,UACtD,kBAAC,IAAD,CAAQK,MAAI,GACV,kBAAC,IAAD,CAAMH,MAAI,EAACC,GAAI,IACb,kBAACpB,EAAD,QAGJ,kBAAC,IAAD,CAAMmB,MAAI,EAACC,GAAI,GAAIG,GAAI,IACrB,kBAAC,IAAD,CAAShC,WAAYA,MAGzB,kBAAC,IAAD,CAAQiC,QAAM,GACZ,kBAAC,IAAD,CAAMV,WAAS,EAACC,QAAS,EAAGC,UAAU,MAAMC,QAAQ,eAAeC,WAAW,UAC5E,kBAAClB,EAAD","file":"component---src-pages-polls-js-900a8ea5a60c2c1c3119.js","sourcesContent":["import React, { useState } from 'react'\nimport { Grid, Tabs, Tab, Hidden } from '@material-ui/core'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport { Parliament } from '../components/parliament'\nimport { Results } from '../components/results'\n\nimport { getCoordinates, getSeatAllocations, formatName, removeWhitespace, useStyles } from '../utils'\nimport { polls } from '../utils/polls'\n\nconst PollResults = () => {\n  const pollsArray = Object.keys(polls)\n  const { parliament, pollTab } = useStyles()\n  const coordinates = getCoordinates()\n\n  const [tabValue, setTabValue] = useState(0)\n  const [seats, setSeats] = useState(getSeatAllocations(null, { electorates: polls[pollsArray[0]].electorates, votes: polls[pollsArray[0]].votes }))\n  const [activePoll, setActivePoll] = useState(pollsArray[0])\n\n  const handleChange = (event, newValue) => {\n    const { textContent } = event.target\n    const name = removeWhitespace(textContent)\n    setSeats(getSeatAllocations(null, { votes: polls[name].votes, electorates: polls[name].electorates }))\n    setTabValue(newValue)\n    setActivePoll(name)\n  }\n\n  const Polls = () => {\n    return (\n      <Tabs\n        value={tabValue}\n        onChange={handleChange}\n        indicatorColor='primary'\n        textColor='primary'\n        variant='fullWidth'\n      >\n        {pollsArray.map(poll => {\n          return (\n            <Tab\n              label={formatName(poll)}\n              name={poll}\n              key={poll}\n              disabled={poll === 'rnz'}\n              className={pollTab}\n            />\n          )\n        })}\n      </Tabs>\n    )\n  }\n\n  return (\n    <Layout>\n      <SEO title='Parliament' />\n      <Grid container spacing={2} direction='row' justify='center' alignItems='center' >\n        <Grid item xs={12} md={6} className={parliament}>\n          <Parliament coordinates={coordinates} seats={seats} />\n        </Grid>\n        <Grid container item spacing={1} xs={12} md={6} justify='center'>\n          <Hidden mdUp>\n            <Grid item xs={12}>\n              <Polls />\n            </Grid>\n          </Hidden>\n          <Grid item xs={12} sm={10}>\n            <Results activePoll={activePoll} />\n          </Grid>\n        </Grid>\n        <Hidden smDown>\n          <Grid container spacing={4} direction='row' justify='space-evenly' alignItems='center'>\n            <Polls />\n          </Grid>\n        </Hidden>\n      </Grid>\n    </Layout>\n  )\n}\n\nexport default PollResults\n"],"sourceRoot":""}