(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/imn":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(){var t,e,n,a,r,i=[],s=function(t,e,n){return void 0===n&&(n=20),i.push({x:t,y:e,diameter:n})},o=function(t,e){s(t,e),s(t+24,e),s(t+48,e)};return function t(e,n){void 0===e&&(e=16),void 0===n&&(n=460),n>=260&&(o(e,n),t(e,n-25))}(),e=[16,40,64,18.77,44.09,68.7,26.96,56.08,82.33,40.27,31.3,58.18,75.15,103.57,52.01,80,100,47.17,76,72.83,104.89,102.54,100.67,130.33,128.94,131.91,130.83,129.96,160,160,160,160,160],n=(t=[220,220,220,190.74,187.65,189.1,162.6,157.5,161.22,136.66,107.51,113.93,131.61,139.1,85.94,95.28,111.75,58.2,68.45,41.8,81.42,55.55,29.79,124.89,99.26,72.88,47.66,22.46,120,95,70,45,20]).map((function(t,n){return[e[n],t]})),a=e.map((function(t){return 360-t})),r=t.map((function(t,e){return[a[e],t]})).reverse(),n.forEach((function(t){return s(t[0],t[1])})),r.forEach((function(t){return s(t[0],t[1])})),function t(e,n){void 0===e&&(e=296),void 0===n&&(n=260),n<=460&&(o(e,n),t(e,n+25))}(),i},r=function(){var t=[];return[180,207,153,126,234,261,99].forEach((function(e){return function(e,n,a){return void 0===a&&(a=20),t.push({x:e,y:n,diameter:a})}(e,450)})),t}},"0ozj":function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},"3f79":function(t,e){t.exports=function(t,e,n,a){var r=n?n.call(a,t,e):void 0;if(void 0!==r)return!!r;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(e),h=0;h<i.length;h++){var l=i[h];if(!o(l))return!1;var c=t[l],u=e[l];if(!1===(r=n?n.call(a,c,u,l):void 0)||void 0===r&&c!==u)return!1}return!0}},"73Ja":function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"7Qib":function(t,e,n){"use strict";n.d(e,"a",(function(){return i.a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u}));var a,r,i=n("/imn"),s=n("OCaB"),o=function(t,e){return t/(2*e+1)},h=function(t,e){if(!t||!e)return null;var n=Object.assign({},e);for(var a in n)n[a]<5&&!t[a]&&(n[a]=0);return function(t,e){var n=[];return Object(s.forEach)(t,(function(t,a){if(t||e[a]){var r={party:a,votes:t,adjusted:t,allocated:0,electorates:e[a]};n.push(r)}})),n}(function(t){var e=Object(s.sum)(Object(s.values)(t)).toFixed(1),n={};for(var a in t){var r=100/e*t[a];n[a]=Number(r)}return n}(n),t)},l=n("Jan8"),c=function(t,e){void 0===e&&(e=null);var n=e||l.b[t];return n?function(t){var e=["National","ACT","NewConservative","UnitedFuture","UnitedNZ","VisionNZ","Alliance","Advance","Heartland","OneParty","Outdoors","SocialCredit","SustainableNZ","TEAParty","Māori","Mana","TOP","JAProgressive","Legalise","Greens","NZFirst","Labour"],n=[];for(var a in t)n.push(t[a]);return n.sort((function(t,n){return t.party&&n.party?Object(s.indexOf)(e,t.party)-Object(s.indexOf)(e,n.party):0}))}(function t(e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=120),i>0){var h=e.map((function(t){return o(t.adjusted,n)})),l=Object(s.indexOf)(h,Object(s.max)(h));e[l].allocated++,e[l].adjusted=o(e[l].votes,e[l].allocated),t(e,n++,--i)}else a=0,r=e.map((function(t){return t.electorates>t.allocated&&(t.overhang=t.electorates-t.allocated,a++),t}));return Object.assign({},r,{overhang:a})}(h(n.electorates,n.votes))):null},u={empty:{fill:"rgba(218,165,32, 1)",fillStyle:"cross-hatch",fillWeight:1.5,roughness:.8},ACT:{fill:"rgba(253, 228, 1, 1)",fillStyle:"solid",roughness:.8},Advance:{fill:"rgba(25, 135, 209, 1)",fillStyle:"cross-hatch",fillWeight:1.5,roughness:.8},Alliance:{fill:"rgba(51, 204, 102, 1)",fillStyle:"cross-hatch",fillWeight:1.5,roughness:.8},Greens:{fill:"rgba(9, 129, 55, 1)",fillStyle:"solid",roughness:.8},Heartland:{fill:"rgba(122, 187, 75, 1)",fillStyle:"solid",roughness:.8},JAProgressive:{fill:"rgba(158, 158, 158, 1)",fillStyle:"solid",roughness:.8},Labour:{fill:"rgba(255, 0, 0, 1)",fillStyle:"solid",roughness:.8},Legalise:{fill:"rgba(51, 204, 51, 1)",fillStyle:"cross-hatch",fillWeight:1.5,roughness:.8},Mana:{fill:"rgba(119, 8, 8, 1)",fillStyle:"cross-hatch",fillWeight:1.5,roughness:.8},"Māori":{fill:"rgba(178, 0, 26, 1)",fillStyle:"solid",roughness:.8},National:{fill:"rgba(0, 82, 159, 1)",fillStyle:"solid",roughness:.8},NewConservative:{fill:"rgba(73, 173, 234, 1)",fillStyle:"solid",roughness:.8},NZFirst:{fill:"rgba(0, 0, 0, 1)",fillStyle:"solid",roughness:.8},OneParty:{fill:"rgba(249, 209, 26, 1)",fillStyle:"cross-hatch",fillWeight:1.5,roughness:.8},Outdoors:{fill:"rgba(0, 128, 0, 1)",fillStyle:"solid",roughness:.8},SocialCredit:{fill:"rgba(203, 232, 0, 1)",fillStyle:"solid",roughness:.8},SustainableNZ:{fill:"rgba(0, 128, 128, 1)",fillStyle:"solid",roughness:.8},TEAParty:{fill:"rgba(90, 39, 108, 1)",fillStyle:"solid",roughness:.8},TOP:{fill:"rgba(50, 218, 195, 1)",fillStyle:"solid",roughness:.8},UnitedFuture:{fill:"rgba(80, 21, 87, 1)",fillStyle:"solid",roughness:.8},UnitedNZ:{fill:"rgba(102, 51, 119, 1)",fillStyle:"solid",roughness:.8},VisionNZ:{fill:"rgba(66, 49, 33, 1)",fillStyle:"solid",roughness:.8}}},C1Km:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}t.exports=function(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}},CBOs:function(t,e,n){var a=n("izcW");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}},EDuE:function(t,e,n){},Jan8:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a={1999:{votes:{National:30.5,Labour:38.7,Greens:5.2,NZFirst:4.3,ACT:7,UnitedNZ:.5,Alliance:7.7},electorates:{National:22,Labour:41,Greens:1,NZFirst:1,ACT:0,UnitedNZ:1,Alliance:1,Other:0}},2002:{votes:{National:20.93,Labour:41.26,Greens:7,NZFirst:10.38,ACT:7.14,UnitedFuture:6.69,JAProgressive:1.7,Alliance:1.27,Other:3.63},electorates:{National:21,Labour:45,Greens:0,NZFirst:1,ACT:0,UnitedFuture:1,JAProgressive:1,Alliance:0,Other:0}},2005:{votes:{National:39.1,Labour:41.1,Greens:5.3,NZFirst:5.72,"Māori":2.12,ACT:1.51,UnitedFuture:2.67,JAProgressive:1.16,Other:1.32},electorates:{National:31,Labour:31,Greens:0,NZFirst:0,"Māori":4,ACT:1,UnitedFuture:1,JAProgressive:1,Other:0}},2008:{votes:{National:44.93,Labour:33.9,Greens:6.72,NZFirst:4.07,"Māori":2.39,ACT:3.65,UnitedFuture:.87,JAProgressive:.91,Other:2.48},electorates:{National:41,Labour:21,Greens:0,NZFirst:0,"Māori":5,ACT:1,UnitedFuture:1,JAProgressive:1,Other:0}},2011:{votes:{National:47.31,Labour:27.48,Greens:11.06,NZFirst:6.59,"Māori":1.43,ACT:1.07,Mana:1.08,UnitedFuture:.6,Other:3.37},electorates:{National:42,Labour:22,Greens:0,NZFirst:0,"Māori":3,ACT:1,Mana:1,UnitedFuture:1,Other:0}},2014:{votes:{National:47.04,Labour:25.13,Greens:10.7,NZFirst:8.66,"Māori":1.32,ACT:.69,Mana:1.42,UnitedFuture:.22,Conservative:3.97,Other:.84},electorates:{National:41,Labour:27,Greens:0,NZFirst:0,"Māori":1,ACT:1,Mana:0,UnitedFuture:1,Conservative:0,Other:0}},2017:{votes:{National:44.4,Labour:36.9,Greens:6.3,NZFirst:7.2,"Māori":1.2,ACT:.5,TOP:2.4,Mana:.1,UnitedFuture:.1,Legalise:.3,Other:.6},electorates:{National:41,Labour:29,Greens:0,NZFirst:0,"Māori":0,ACT:1,TOP:0,Mana:0,UnitedFuture:0,Legalise:0,Other:0}}},r=Object.keys(a).sort().reverse(),i=["Labour","National","Greens","ACT","Māori","Advance","Legalise","Heartland","NewConservative","NZFirst","OneParty","Outdoors","SocialCredit","SustainableNZ","TEAParty","TOP","VisionNZ"]},KmmR:function(t,e,n){"use strict";var a=n("p2uw"),r=n("DHA7"),i=n("DaAx"),s=n("Q9PI"),o=n("W40M"),h=n("8iTJ"),l=n("Qw1P"),c=n("kxRe"),u=i.forwardRef((function(t,e){var n=t.children,o=t.classes,h=t.className,u=t.color,f=void 0===u?"default":u,p=t.component,d=void 0===p?"button":p,v=t.disabled,y=void 0!==v&&v,g=t.disableElevation,b=void 0!==g&&g,m=t.disableFocusRipple,x=void 0!==m&&m,k=t.endIcon,M=t.focusVisibleClassName,_=t.fullWidth,w=void 0!==_&&_,P=t.size,O=void 0===P?"medium":P,S=t.startIcon,A=t.type,C=void 0===A?"button":A,E=t.variant,N=void 0===E?"text":E,T=Object(a.a)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),L=S&&i.createElement("span",{className:Object(s.a)(o.startIcon,o["iconSize".concat(Object(c.a)(O))])},S),j=k&&i.createElement("span",{className:Object(s.a)(o.endIcon,o["iconSize".concat(Object(c.a)(O))])},k);return i.createElement(l.a,Object(r.a)({className:Object(s.a)(o.root,o[N],h,"inherit"===f?o.colorInherit:"default"!==f&&o["".concat(N).concat(Object(c.a)(f))],"medium"!==O&&[o["".concat(N,"Size").concat(Object(c.a)(O))],o["size".concat(Object(c.a)(O))]],b&&o.disableElevation,y&&o.disabled,w&&o.fullWidth),component:d,disabled:y,focusRipple:!x,focusVisibleClassName:Object(s.a)(o.focusVisible,M),ref:e,type:C},T),i.createElement("span",{className:o.label},L,n,j))}));e.a=Object(o.a)((function(t){return{root:Object(r.a)({},t.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(h.b)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(h.b)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(h.b)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(t.palette.action.disabledBackground)}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(Object(h.b)(t.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.primary.main),backgroundColor:Object(h.b)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(Object(h.b)(t.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.secondary.main),backgroundColor:Object(h.b)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(t.palette.action.disabled)}},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&:hover":{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(u)},YqMS:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"cM+M":function(t,e,n){var a=n("CBOs"),r=n("puCe"),i=n("0ozj"),s=n("73Ja"),o=n("C1Km");function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=i(t);if(e){var s=i(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return r(this,n)}}function l(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}t.exports=function(){"use strict";var t="undefined"!=typeof self,e=function(){function e(t,n){s(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1},this.config=t||{},this.surface=n,this.config.options&&(this.defaultOptions=this._options(this.config.options))}return o(e,[{key:"_options",value:function(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}},{key:"_drawable",value:function(t,e,n){return{shape:t,sets:e||[],options:n||this.defaultOptions}}},{key:"getCanvasSize",value:function(){var t=function(t){return t&&"object"==typeof t&&t.baseVal&&t.baseVal.value?t.baseVal.value:t||100};return this.surface?[t(this.surface.width),t(this.surface.height)]:[100,100]}},{key:"computePolygonSize",value:function(t){if(t.length){for(var e=t[0][0],n=t[0][0],a=t[0][1],r=t[0][1],i=1;i<t.length;i++)e=Math.min(e,t[i][0]),n=Math.max(n,t[i][0]),a=Math.min(a,t[i][1]),r=Math.max(r,t[i][1]);return[n-e,r-a]}return[0,0]}},{key:"polygonPath",value:function(t){var e="";if(t.length){e="M".concat(t[0][0],",").concat(t[0][1]);for(var n=1;n<t.length;n++)e="".concat(e," L").concat(t[n][0],",").concat(t[n][1])}return e}},{key:"computePathSize",value:function(e){var n=[0,0];if(t&&self.document)try{var a="http://www.w3.org/2000/svg",r=self.document.createElementNS(a,"svg");r.setAttribute("width","0"),r.setAttribute("height","0");var i=self.document.createElementNS(a,"path");i.setAttribute("d",e),r.appendChild(i),self.document.body.appendChild(r);var s=i.getBBox();s&&(n[0]=s.width||0,n[1]=s.height||0),self.document.body.removeChild(r)}catch(t){}var o=this.getCanvasSize();return n[0]*n[1]||(n=o),n}},{key:"toPaths",value:function(t){var e,n=t.sets||[],a=t.options||this.defaultOptions,r=[],i=l(n);try{for(i.s();!(e=i.n()).done;){var s=e.value,o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:a.stroke,strokeWidth:a.strokeWidth,fill:"none"};break;case"fillPath":o={d:this.opsToPath(s),stroke:"none",strokeWidth:0,fill:a.fill||"none"};break;case"fillSketch":o=this.fillSketch(s,a);break;case"path2Dfill":o={d:s.path||"",stroke:"none",strokeWidth:0,fill:a.fill||"none"};break;case"path2Dpattern":var h=s.size,c={x:0,y:0,width:1,height:1,viewBox:"0 0 ".concat(Math.round(h[0])," ").concat(Math.round(h[1])),patternUnits:"objectBoundingBox",path:this.fillSketch(s,a)};o={d:s.path,stroke:"none",strokeWidth:0,pattern:c}}o&&r.push(o)}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"fillSketch",value:function(t,e){var n=e.fillWeight;return n<0&&(n=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||"none",strokeWidth:n,fill:"none"}}},{key:"opsToPath",value:function(t){var e,n="",a=l(t.ops);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=r.data;switch(r.op){case"move":n+="M".concat(i[0]," ").concat(i[1]," ");break;case"bcurveTo":n+="C".concat(i[0]," ").concat(i[1],", ").concat(i[2]," ").concat(i[3],", ").concat(i[4]," ").concat(i[5]," ");break;case"qcurveTo":n+="Q".concat(i[0]," ").concat(i[1],", ").concat(i[2]," ").concat(i[3]," ");break;case"lineTo":n+="L".concat(i[0]," ").concat(i[1]," ")}}}catch(s){a.e(s)}finally{a.f()}return n.trim()}}]),e}();function n(t,e){return t.type===e}var r={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0},i=function(){function t(e){s(this,t),this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(e),this.processPoints()}return o(t,[{key:"tokenize",value:function(t){for(var e=new Array;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:this.COMMAND,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return console.error("Unrecognized segment command: "+t),[];e[e.length]={type:this.NUMBER,text:"".concat(parseFloat(RegExp.$1))},t=t.substr(RegExp.$1.length)}return e[e.length]={type:this.EOD,text:""},e}},{key:"parseData",value:function(t){var e=this.tokenize(t),a=0,i=e[a],s="BOD";for(this.segments=new Array;!n(i,this.EOD);){var o=void 0,h=new Array;if("BOD"===s){if("M"!==i.text&&"m"!==i.text)return void this.parseData("M0,0"+t);a++,o=r[i.text],s=i.text}else n(i,this.NUMBER)?o=r[s]:(a++,o=r[i.text],s=i.text);if(a+o<e.length){for(var l=a;l<a+o;l++){var c=e[l];if(!n(c,this.NUMBER))return void console.error("Parameter type is not a number: "+s+","+c.text);h[h.length]=+c.text}if("number"!=typeof r[s])return void console.error("Unsupported segment type: "+s);var u={key:s,data:h};this.segments.push(u),i=e[a+=o],"M"===s&&(s="L"),"m"===s&&(s="l")}else console.error("Path data ended before all parameters were found")}}},{key:"processPoints",value:function(){for(var t=null,e=[0,0],n=0;n<this.segments.length;n++){var a=this.segments[n];switch(a.key){case"M":case"L":case"T":a.point=[a.data[0],a.data[1]];break;case"m":case"l":case"t":a.point=[a.data[0]+e[0],a.data[1]+e[1]];break;case"H":a.point=[a.data[0],e[1]];break;case"h":a.point=[a.data[0]+e[0],e[1]];break;case"V":a.point=[e[0],a.data[0]];break;case"v":a.point=[e[0],a.data[0]+e[1]];break;case"z":case"Z":t&&(a.point=[t[0],t[1]]);break;case"C":a.point=[a.data[4],a.data[5]];break;case"c":a.point=[a.data[4]+e[0],a.data[5]+e[1]];break;case"S":a.point=[a.data[2],a.data[3]];break;case"s":a.point=[a.data[2]+e[0],a.data[3]+e[1]];break;case"Q":a.point=[a.data[2],a.data[3]];break;case"q":a.point=[a.data[2]+e[0],a.data[3]+e[1]];break;case"A":a.point=[a.data[5],a.data[6]];break;case"a":a.point=[a.data[5]+e[0],a.data[6]+e[1]]}"m"!==a.key&&"M"!==a.key||(t=null),a.point&&(e=a.point,t||(t=a.point)),"z"!==a.key&&"Z"!==a.key||(t=null)}}},{key:"closed",get:function(){if(void 0===this._closed){this._closed=!1;var t,e=l(this.segments);try{for(e.s();!(t=e.n()).done;)"z"===t.value.key.toLowerCase()&&(this._closed=!0)}catch(n){e.e(n)}finally{e.f()}}return this._closed}}]),t}(),c=function(){function t(e){s(this,t),this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new i(e)}return o(t,[{key:"setPosition",value:function(t,e){this._position=[t,e],this._first||(this._first=[t,e])}},{key:"segments",get:function(){return this.parsed.segments}},{key:"closed",get:function(){return this.parsed.closed}},{key:"linearPoints",get:function(){if(!this._linearPoints){var t,e=[],n=[],a=l(this.parsed.segments);try{for(a.s();!(t=a.n()).done;){var r=t.value,i=r.key.toLowerCase();("m"!==i&&"z"!==i||(n.length&&(e.push(n),n=[]),"z"!==i))&&r.point&&n.push(r.point)}}catch(s){a.e(s)}finally{a.f()}n.length&&(e.push(n),n=[]),this._linearPoints=e}return this._linearPoints}},{key:"first",get:function(){return this._first},set:function(t){this._first=t}},{key:"position",get:function(){return this._position}},{key:"x",get:function(){return this._position[0]}},{key:"y",get:function(){return this._position[1]}}]),t}(),u=function(){function t(e,n,a,r,i,o){if(s(this,t),this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=e,e[0]!==n[0]||e[1]!==n[1]){var h=Math.PI/180;this._rx=Math.abs(a[0]),this._ry=Math.abs(a[1]),this._sinPhi=Math.sin(r*h),this._cosPhi=Math.cos(r*h);var l=this._cosPhi*(e[0]-n[0])/2+this._sinPhi*(e[1]-n[1])/2,c=-this._sinPhi*(e[0]-n[0])/2+this._cosPhi*(e[1]-n[1])/2,u=0,f=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*c*c-this._ry*this._ry*l*l;if(f<0){var p=Math.sqrt(1-f/(this._rx*this._rx*this._ry*this._ry));this._rx=this._rx*p,this._ry=this._ry*p,u=0}else u=(i===o?-1:1)*Math.sqrt(f/(this._rx*this._rx*c*c+this._ry*this._ry*l*l));var d=u*this._rx*c/this._ry,v=-u*this._ry*l/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*d-this._sinPhi*v+(e[0]+n[0])/2,this._C[1]=this._sinPhi*d+this._cosPhi*v+(e[1]+n[1])/2,this._theta=this.calculateVectorAngle(1,0,(l-d)/this._rx,(c-v)/this._ry);var y=this.calculateVectorAngle((l-d)/this._rx,(c-v)/this._ry,(-l-d)/this._rx,(-c-v)/this._ry);!o&&y>0?y-=2*Math.PI:o&&y<0&&(y+=2*Math.PI),this._numSegs=Math.ceil(Math.abs(y/(Math.PI/2))),this._delta=y/this._numSegs,this._T=8/3*Math.sin(this._delta/4)*Math.sin(this._delta/4)/Math.sin(this._delta/2)}}return o(t,[{key:"getNextSegment",value:function(){if(this._segIndex===this._numSegs)return null;var t=Math.cos(this._theta),e=Math.sin(this._theta),n=this._theta+this._delta,a=Math.cos(n),r=Math.sin(n),i=[this._cosPhi*this._rx*a-this._sinPhi*this._ry*r+this._C[0],this._sinPhi*this._rx*a+this._cosPhi*this._ry*r+this._C[1]],s=[this._from[0]+this._T*(-this._cosPhi*this._rx*e-this._sinPhi*this._ry*t),this._from[1]+this._T*(-this._sinPhi*this._rx*e+this._cosPhi*this._ry*t)],o=[i[0]+this._T*(this._cosPhi*this._rx*r+this._sinPhi*this._ry*a),i[1]+this._T*(this._sinPhi*this._rx*r-this._cosPhi*this._ry*a)];return this._theta=n,this._from=[i[0],i[1]],this._segIndex++,{cp1:s,cp2:o,to:i}}},{key:"calculateVectorAngle",value:function(t,e,n,a){var r=Math.atan2(e,t),i=Math.atan2(a,n);return i>=r?i-r:2*Math.PI-(r-i)}}]),t}(),f=function(){function t(e,n){s(this,t),this.sets=e,this.closed=n}return o(t,[{key:"fit",value:function(t){var e,n=[],a=l(this.sets);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=r.length,s=Math.floor(t*i);if(s<5){if(i<=5)continue;s=5}n.push(this.reduce(r,s))}}catch(d){a.e(d)}finally{a.f()}for(var o="",h=0,c=n;h<c.length;h++){for(var u=c[h],f=0;f<u.length;f++){var p=u[f];o+=0===f?"M"+p[0]+","+p[1]:"L"+p[0]+","+p[1]}this.closed&&(o+="z ")}return o}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}},{key:"reduce",value:function(t,e){if(t.length<=e)return t;for(var n=t.slice(0);n.length>e;){for(var a=-1,r=-1,i=1;i<n.length-1;i++){var s=this.distance(n[i-1],n[i]),o=this.distance(n[i],n[i+1]),h=this.distance(n[i-1],n[i+1]),l=(s+o+h)/2,c=Math.sqrt(l*(l-s)*(l-o)*(l-h));(a<0||c<a)&&(a=c,r=i)}if(!(r>0))break;n.splice(r,1)}return n}}]),t}(),p=function(){function t(e,n){s(this,t),this.xi=Number.MAX_VALUE,this.yi=Number.MAX_VALUE,this.px1=e[0],this.py1=e[1],this.px2=n[0],this.py2=n[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}return o(t,[{key:"isUndefined",value:function(){return this._undefined}},{key:"intersects",value:function(t){if(this.isUndefined()||t.isUndefined())return!1;var e=Number.MAX_VALUE,n=Number.MAX_VALUE,a=0,r=0,i=this.a,s=this.b,o=this.c;return Math.abs(s)>1e-5&&(e=-i/s,a=-o/s),Math.abs(t.b)>1e-5&&(n=-t.a/t.b,r=-t.c/t.b),e===Number.MAX_VALUE?n===Number.MAX_VALUE?-o/i==-t.c/t.a&&(this.py1>=Math.min(t.py1,t.py2)&&this.py1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.py2>=Math.min(t.py1,t.py2)&&this.py2<=Math.max(t.py1,t.py2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=n*this.xi+r,!((this.py1-this.yi)*(this.yi-this.py2)<-1e-5||(t.py1-this.yi)*(this.yi-t.py2)<-1e-5||Math.abs(t.a)<1e-5&&(t.px1-this.xi)*(this.xi-t.px2)<-1e-5)):n===Number.MAX_VALUE?(this.xi=t.px1,this.yi=e*this.xi+a,!((t.py1-this.yi)*(this.yi-t.py2)<-1e-5||(this.py1-this.yi)*(this.yi-this.py2)<-1e-5||Math.abs(i)<1e-5&&(this.px1-this.xi)*(this.xi-this.px2)<-1e-5)):e===n?a===r&&(this.px1>=Math.min(t.px1,t.px2)&&this.px1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.px2>=Math.min(t.px1,t.px2)&&this.px2<=Math.max(t.px1,t.px2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(r-a)/(e-n),this.yi=e*this.xi+a,!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5||(t.px1-this.xi)*(this.xi-t.px2)<-1e-5))}}]),t}(),d=function(){function t(e,n,a,r,i,o,h,l){s(this,t),this.deltaX=0,this.hGap=0,this.top=e,this.bottom=n,this.left=a,this.right=r,this.gap=i,this.sinAngle=o,this.tanAngle=l,Math.abs(o)<1e-4?this.pos=a+i:Math.abs(o)>.9999?this.pos=e+i:(this.deltaX=(n-e)*Math.abs(l),this.pos=a-Math.abs(this.deltaX),this.hGap=Math.abs(i/h),this.sLeft=new p([a,n],[a,e]),this.sRight=new p([r,n],[r,e]))}return o(t,[{key:"nextLine",value:function(){if(Math.abs(this.sinAngle)<1e-4){if(this.pos<this.right){var t=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,t}}else if(Math.abs(this.sinAngle)>.9999){if(this.pos<this.bottom){var e=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,e}}else{var n=this.pos-this.deltaX/2,a=this.pos+this.deltaX/2,r=this.bottom,i=this.top;if(this.pos<this.right+this.deltaX){for(;n<this.left&&a<this.left||n>this.right&&a>this.right;)if(this.pos+=this.hGap,n=this.pos-this.deltaX/2,a=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;var s=new p([n,r],[a,i]);this.sLeft&&s.intersects(this.sLeft)&&(n=s.xi,r=s.yi),this.sRight&&s.intersects(this.sRight)&&(a=s.xi,i=s.yi),this.tanAngle>0&&(n=this.right-(n-this.left),a=this.right-(a-this.left));var o=[n,r,a,i];return this.pos+=this.hGap,o}}return null}}]),t}();function v(t){var e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function y(t,e){for(var n=[],a=new p([t[0],t[1]],[t[2],t[3]]),r=0;r<e.length;r++){var i=new p(e[r],e[(r+1)%e.length]);a.intersects(i)&&n.push([a.xi,a.yi])}return n}function g(t,e,n,a,r,i,s){return[-n*i-a*r+n+i*t+r*e,s*(n*r-a*i)+a+-s*r*t+s*i*e]}function b(t,e){var n=[];if(t&&t.length){for(var a=t[0][0],r=t[0][0],i=t[0][1],s=t[0][1],o=1;o<t.length;o++)a=Math.min(a,t[o][0]),r=Math.max(r,t[o][0]),i=Math.min(i,t[o][1]),s=Math.max(s,t[o][1]);var h=e.hachureAngle,l=e.hachureGap;l<0&&(l=4*e.strokeWidth),l=Math.max(l,.1);for(var c,u=h%180*(Math.PI/180),f=Math.cos(u),p=Math.sin(u),v=Math.tan(u),g=new d(i-1,s+1,a-1,r+1,l,p,f,v);null!=(c=g.nextLine());)for(var b=y(c,t),m=0;m<b.length;m++)if(m<b.length-1){var x=b[m],k=b[m+1];n.push([x,k])}}return n}function m(t,e,n,a,r,i){var s=[],o=Math.abs(a/2),h=Math.abs(r/2);o+=t.randOffset(.05*o,i),h+=t.randOffset(.05*h,i);var l=i.hachureAngle,c=i.hachureGap;c<=0&&(c=4*i.strokeWidth);var u=i.fillWeight;u<0&&(u=i.strokeWidth/2);for(var f=l%180*(Math.PI/180),p=Math.tan(f),d=h/o,v=Math.sqrt(d*p*d*p+1),y=d*p/v,b=1/v,m=c/(o*h/Math.sqrt(h*b*(h*b)+o*y*(o*y))/o),x=Math.sqrt(o*o-(e-o+m)*(e-o+m)),k=e-o+m;k<e+o;k+=m){var M=g(k,n-(x=Math.sqrt(o*o-(e-k)*(e-k))),e,n,y,b,d),_=g(k,n+x,e,n,y,b,d);s.push([M,_])}return s}var x=function(){function t(e){s(this,t),this.helper=e}return o(t,[{key:"fillPolygon",value:function(t,e){return this._fillPolygon(t,e)}},{key:"fillEllipse",value:function(t,e,n,a,r){return this._fillEllipse(t,e,n,a,r)}},{key:"fillArc",value:function(t,e,n,a,r,i,s){return null}},{key:"_fillPolygon",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=b(t,e);return{type:"fillSketch",ops:this.renderLines(a,e,n)}}},{key:"_fillEllipse",value:function(t,e,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=m(this.helper,t,e,n,a,r);return{type:"fillSketch",ops:this.renderLines(s,r,i)}}},{key:"renderLines",value:function(t,e,n){var a,r=[],i=null,s=l(t);try{for(s.s();!(a=s.n()).done;){var o=a.value;r=r.concat(this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],e)),n&&i&&(r=r.concat(this.helper.doubleLineOps(i[0],i[1],o[0][0],o[0][1],e))),i=o[1]}}catch(h){s.e(h)}finally{s.f()}return r}}]),t}(),k=function(t){a(n,t);var e=h(n);function n(){return s(this,n),e.apply(this,arguments)}return o(n,[{key:"fillPolygon",value:function(t,e){return this._fillPolygon(t,e,!0)}},{key:"fillEllipse",value:function(t,e,n,a,r){return this._fillEllipse(t,e,n,a,r,!0)}}]),n}(x),M=function(t){a(n,t);var e=h(n);function n(){return s(this,n),e.apply(this,arguments)}return o(n,[{key:"fillPolygon",value:function(t,e){var n=this._fillPolygon(t,e),a=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),r=this._fillPolygon(t,a);return n.ops=n.ops.concat(r.ops),n}},{key:"fillEllipse",value:function(t,e,n,a,r){var i=this._fillEllipse(t,e,n,a,r),s=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),o=this._fillEllipse(t,e,n,a,s);return i.ops=i.ops.concat(o.ops),i}}]),n}(x),_=function(){function t(e){s(this,t),this.helper=e}return o(t,[{key:"fillPolygon",value:function(t,e){var n=b(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0}));return this.dotsOnLines(n,e)}},{key:"fillEllipse",value:function(t,e,n,a,r){r=Object.assign({},r,{curveStepCount:4,hachureAngle:0});var i=m(this.helper,t,e,n,a,r);return this.dotsOnLines(i,r)}},{key:"fillArc",value:function(t,e,n,a,r,i,s){return null}},{key:"dotsOnLines",value:function(t,e){var n=[],a=e.hachureGap;a<0&&(a=4*e.strokeWidth),a=Math.max(a,.1);var r=e.fillWeight;r<0&&(r=e.strokeWidth/2);var i,s=l(t);try{for(s.s();!(i=s.n()).done;)for(var o=i.value,h=v(o)/a,c=Math.ceil(h)-1,u=Math.atan((o[1][1]-o[0][1])/(o[1][0]-o[0][0])),f=0;f<c;f++){var p=a*(f+1),d=p*Math.sin(u),y=p*Math.cos(u),g=[o[0][0]-y,o[0][1]+d],b=this.helper.randOffsetWithRange(g[0]-a/4,g[0]+a/4,e),m=this.helper.randOffsetWithRange(g[1]-a/4,g[1]+a/4,e),x=this.helper.ellipse(b,m,r,r,e);n=n.concat(x.ops)}}catch(k){s.e(k)}finally{s.f()}return{type:"fillSketch",ops:n}}}]),t}(),w=function(){function t(e){s(this,t),this.helper=e}return o(t,[{key:"fillPolygon",value:function(t,e){var n=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],a=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER];t.forEach((function(t){n[0]=Math.min(n[0],t[0]),n[1]=Math.max(n[1],t[0]),a[0]=Math.min(a[0],t[1]),a[1]=Math.max(a[1],t[1])}));var r=function(t){for(var e=0,n=0,a=0,r=0;r<t.length;r++){var i=t[r],s=r===t.length-1?t[0]:t[r+1];e+=i[0]*s[1]-s[0]*i[1]}e/=2;for(var o=0;o<t.length;o++){var h=t[o],l=o===t.length-1?t[0]:t[o+1];n+=(h[0]+l[0])*(h[0]*l[1]-l[0]*h[1]),a+=(h[1]+l[1])*(h[0]*l[1]-l[0]*h[1])}return[n/(6*e),a/(6*e)]}(t),i=Math.max(Math.sqrt(Math.pow(r[0]-n[0],2)+Math.pow(r[1]-a[0],2)),Math.sqrt(Math.pow(r[0]-n[1],2)+Math.pow(r[1]-a[1],2))),s=e.hachureGap>0?e.hachureGap:4*e.strokeWidth,o=[];if(t.length>2)for(var h=0;h<t.length;h++)h===t.length-1?o.push([t[h],t[0]]):o.push([t[h],t[h+1]]);for(var l=[],c=Math.max(1,Math.PI*i/s),u=function(t){var e=t*Math.PI/c,s=[r,[r[0]+i*Math.cos(e),r[1]+i*Math.sin(e)]];o.forEach((function(t){var e=function(t,e){var n=t[1][1]-t[0][1],a=t[0][0]-t[1][0],r=n*t[0][0]+a*t[0][1],i=e[1][1]-e[0][1],s=e[0][0]-e[1][0],o=i*e[0][0]+s*e[0][1],h=n*s-i*a;return h?[Math.round((s*r-a*o)/h),Math.round((n*o-i*r)/h)]:null}(t,s);e&&e[0]>=n[0]&&e[0]<=n[1]&&e[1]>=a[0]&&e[1]<=a[1]&&l.push(e)}))},f=0;f<c;f++)u(f);l=this.removeDuplocatePoints(l);var p=this.createLinesFromCenter(r,l);return{type:"fillSketch",ops:this.drawLines(p,e)}}},{key:"fillEllipse",value:function(t,e,n,a,r){return this.fillArcSegment(t,e,n,a,0,2*Math.PI,r)}},{key:"fillArc",value:function(t,e,n,a,r,i,s){return this.fillArcSegment(t,e,n,a,r,i,s)}},{key:"fillArcSegment",value:function(t,e,n,a,r,i,s){var o=[t,e],h=n/2,l=a/2,c=Math.max(n/2,a/2),u=s.hachureGap;u<0&&(u=4*s.strokeWidth);for(var f=Math.max(1,Math.abs(i-r)*c/u),p=[],d=0;d<f;d++){var v=d*((i-r)/f)+r,y=c*Math.cos(v),g=c*Math.sin(v),b=Math.sqrt(h*h*g*g+l*l*y*y),m=h*l*y/b,x=h*l*g/b;p.push([o[0]+m,o[1]+x])}p=this.removeDuplocatePoints(p);var k=this.createLinesFromCenter(o,p);return{type:"fillSketch",ops:this.drawLines(k,s)}}},{key:"drawLines",value:function(t,e){var n=this,a=[];return t.forEach((function(t){var r=t[0],i=t[1];a=a.concat(n.helper.doubleLineOps(r[0],r[1],i[0],i[1],e))})),a}},{key:"createLinesFromCenter",value:function(t,e){return e.map((function(e){return[t,e]}))}},{key:"removeDuplocatePoints",value:function(t){var e=new Set;return t.filter((function(t){var n=t.join(",");return!e.has(n)&&(e.add(n),!0)}))}}]),t}(),P=function(){function t(e){s(this,t),this.helper=e}return o(t,[{key:"fillPolygon",value:function(t,e){var n=b(t,e);return{type:"fillSketch",ops:this.dashedLine(n,e)}}},{key:"fillEllipse",value:function(t,e,n,a,r){var i=m(this.helper,t,e,n,a,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}},{key:"fillArc",value:function(t,e,n,a,r,i,s){return null}},{key:"dashedLine",value:function(t,e){var n=this,a=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,r=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,i=[];return t.forEach((function(t){var s=v(t),o=Math.floor(s/(a+r)),h=(s+r-o*(a+r))/2,l=t[0],c=t[1];l[0]>c[0]&&(l=t[1],c=t[0]);for(var u=Math.atan((c[1]-l[1])/(c[0]-l[0])),f=0;f<o;f++){var p=f*(a+r),d=p+a,y=[l[0]+p*Math.cos(u)+h*Math.cos(u),l[1]+p*Math.sin(u)+h*Math.sin(u)],g=[l[0]+d*Math.cos(u)+h*Math.cos(u),l[1]+d*Math.sin(u)+h*Math.sin(u)];i=i.concat(n.helper.doubleLineOps(y[0],y[1],g[0],g[1],e))}})),i}}]),t}(),O=function(){function t(e){s(this,t),this.helper=e}return o(t,[{key:"fillPolygon",value:function(t,e){var n=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,a=e.zigzagOffset<0?n:e.zigzagOffset,r=b(t,e=Object.assign({},e,{hachureGap:n+a}));return{type:"fillSketch",ops:this.zigzagLines(r,a,e)}}},{key:"fillEllipse",value:function(t,e,n,a,r){var i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,s=r.zigzagOffset<0?i:r.zigzagOffset;r=Object.assign({},r,{hachureGap:i+s});var o=m(this.helper,t,e,n,a,r);return{type:"fillSketch",ops:this.zigzagLines(o,s,r)}}},{key:"fillArc",value:function(t,e,n,a,r,i,s){return null}},{key:"zigzagLines",value:function(t,e,n){var a=this,r=[];return t.forEach((function(t){var i=v(t),s=Math.round(i/(2*e)),o=t[0],h=t[1];o[0]>h[0]&&(o=t[1],h=t[0]);for(var l=Math.atan((h[1]-o[1])/(h[0]-o[0])),c=0;c<s;c++){var u=2*c*e,f=2*(c+1)*e,p=Math.sqrt(2*Math.pow(e,2)),d=[o[0]+u*Math.cos(l),o[1]+u*Math.sin(l)],y=[o[0]+f*Math.cos(l),o[1]+f*Math.sin(l)],g=[d[0]+p*Math.cos(l+Math.PI/4),d[1]+p*Math.sin(l+Math.PI/4)];r=(r=r.concat(a.helper.doubleLineOps(d[0],d[1],g[0],g[1],n))).concat(a.helper.doubleLineOps(g[0],g[1],y[0],y[1],n))}})),r}}]),t}(),S={};function A(t,e){var n=t.fillStyle||"hachure";if(!S[n])switch(n){case"zigzag":S[n]||(S[n]=new k(e));break;case"cross-hatch":S[n]||(S[n]=new M(e));break;case"dots":S[n]||(S[n]=new _(e));break;case"starburst":S[n]||(S[n]=new w(e));break;case"dashed":S[n]||(S[n]=new P(e));break;case"zigzag-line":S[n]||(S[n]=new O(e));break;case"hachure":default:S[n="hachure"]||(S[n]=new x(e))}return S[n]}var C={randOffset:function(t,e){return W(t,e)},randOffsetWithRange:function(t,e,n){return I(t,e,n)},ellipse:L,doubleLineOps:function(t,e,n,a,r){return G(t,e,n,a,r)}};function E(t,e,n,a,r){return{type:"path",ops:G(t,e,n,a,r)}}function N(t,e,n){var a=(t||[]).length;if(a>2){for(var r=[],i=0;i<a-1;i++)r=r.concat(G(t[i][0],t[i][1],t[i+1][0],t[i+1][1],n));return e&&(r=r.concat(G(t[a-1][0],t[a-1][1],t[0][0],t[0][1],n))),{type:"path",ops:r}}return 2===a?E(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function T(t,e){var n=D(t,1*(1+.2*e.roughness),e),a=D(t,1.5*(1+.22*e.roughness),e);return{type:"path",ops:n.concat(a)}}function L(t,e,n,a,r){var i=2*Math.PI/r.curveStepCount,s=Math.abs(n/2),o=Math.abs(a/2),h=q(i,t,e,s+=W(.05*s,r),o+=W(.05*o,r),1,i*I(.1,I(.4,1,r),r),r),l=q(i,t,e,s,o,1.5,0,r);return{type:"path",ops:h.concat(l)}}function j(t,e,n,a,r,i,s,o,h){var l=t,c=e,u=Math.abs(n/2),f=Math.abs(a/2);u+=W(.01*u,h),f+=W(.01*f,h);for(var p=r,d=i;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);var v=2*Math.PI/h.curveStepCount,y=Math.min(v/2,(d-p)/2),g=Z(y,l,c,u,f,p,d,1,h),b=Z(y,l,c,u,f,p,d,1.5,h),m=g.concat(b);return s&&(o?m=(m=m.concat(G(l,c,l+u*Math.cos(p),c+f*Math.sin(p),h))).concat(G(l,c,l+u*Math.cos(d),c+f*Math.sin(d),h)):(m.push({op:"lineTo",data:[l,c]}),m.push({op:"lineTo",data:[l+u*Math.cos(p),c+f*Math.sin(p)]}))),{type:"path",ops:m}}function z(t,e){var n=[];if(t.length){var a=e.maxRandomnessOffset||0,r=t.length;if(r>2){n.push({op:"move",data:[t[0][0]+W(a,e),t[0][1]+W(a,e)]});for(var i=1;i<r;i++)n.push({op:"lineTo",data:[t[i][0]+W(a,e),t[i][1]+W(a,e)]})}}return{type:"fillPath",ops:n}}function R(t,e){return A(e,C).fillPolygon(t,e)}function I(t,e,n){return n.roughness*(Math.random()*(e-t)+t)}function W(t,e){return I(-t,t,e)}function G(t,e,n,a,r){var i=F(t,e,n,a,r,!0,!1),s=F(t,e,n,a,r,!0,!0);return i.concat(s)}function F(t,e,n,a,r,i,s){var o=Math.pow(t-n,2)+Math.pow(e-a,2),h=r.maxRandomnessOffset||0;h*h*100>o&&(h=Math.sqrt(o)/10);var l=h/2,c=.2+.2*Math.random(),u=r.bowing*r.maxRandomnessOffset*(a-e)/200,f=r.bowing*r.maxRandomnessOffset*(t-n)/200;u=W(u,r),f=W(f,r);var p=[],d=function(){return W(l,r)},v=function(){return W(h,r)};return i&&(s?p.push({op:"move",data:[t+d(),e+d()]}):p.push({op:"move",data:[t+W(h,r),e+W(h,r)]})),s?p.push({op:"bcurveTo",data:[u+t+(n-t)*c+d(),f+e+(a-e)*c+d(),u+t+2*(n-t)*c+d(),f+e+2*(a-e)*c+d(),n+d(),a+d()]}):p.push({op:"bcurveTo",data:[u+t+(n-t)*c+v(),f+e+(a-e)*c+v(),u+t+2*(n-t)*c+v(),f+e+2*(a-e)*c+v(),n+v(),a+v()]}),p}function D(t,e,n){var a=[];a.push([t[0][0]+W(e,n),t[0][1]+W(e,n)]),a.push([t[0][0]+W(e,n),t[0][1]+W(e,n)]);for(var r=1;r<t.length;r++)a.push([t[r][0]+W(e,n),t[r][1]+W(e,n)]),r===t.length-1&&a.push([t[r][0]+W(e,n),t[r][1]+W(e,n)]);return U(a,null,n)}function U(t,e,n){var a=t.length,r=[];if(a>3){var i=[],s=1-n.curveTightness;r.push({op:"move",data:[t[1][0],t[1][1]]});for(var o=1;o+2<a;o++){var h=t[o];i[0]=[h[0],h[1]],i[1]=[h[0]+(s*t[o+1][0]-s*t[o-1][0])/6,h[1]+(s*t[o+1][1]-s*t[o-1][1])/6],i[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],i[3]=[t[o+1][0],t[o+1][1]],r.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(e&&2===e.length){var l=n.maxRandomnessOffset;r.push({op:"lineTo",data:[e[0]+W(l,n),e[1]+W(l,n)]})}}else 3===a?(r.push({op:"move",data:[t[1][0],t[1][1]]}),r.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===a&&(r=r.concat(G(t[0][0],t[0][1],t[1][0],t[1][1],n)));return r}function q(t,e,n,a,r,i,s,o){var h=W(.5,o)-Math.PI/2,l=[];l.push([W(i,o)+e+.9*a*Math.cos(h-t),W(i,o)+n+.9*r*Math.sin(h-t)]);for(var c=h;c<2*Math.PI+h-.01;c+=t)l.push([W(i,o)+e+a*Math.cos(c),W(i,o)+n+r*Math.sin(c)]);return l.push([W(i,o)+e+a*Math.cos(h+2*Math.PI+.5*s),W(i,o)+n+r*Math.sin(h+2*Math.PI+.5*s)]),l.push([W(i,o)+e+.98*a*Math.cos(h+s),W(i,o)+n+.98*r*Math.sin(h+s)]),l.push([W(i,o)+e+.9*a*Math.cos(h+.5*s),W(i,o)+n+.9*r*Math.sin(h+.5*s)]),U(l,null,o)}function Z(t,e,n,a,r,i,s,o,h){var l=i+W(.1,h),c=[];c.push([W(o,h)+e+.9*a*Math.cos(l-t),W(o,h)+n+.9*r*Math.sin(l-t)]);for(var u=l;u<=s;u+=t)c.push([W(o,h)+e+a*Math.cos(u),W(o,h)+n+r*Math.sin(u)]);return c.push([e+a*Math.cos(s),n+r*Math.sin(s)]),c.push([e+a*Math.cos(s),n+r*Math.sin(s)]),U(c,null,h)}function B(t,e,n,a,r,i,s,o){for(var h=[],l=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.5],c=[0,0],u=0;u<2;u++)0===u?h.push({op:"move",data:[s.x,s.y]}):h.push({op:"move",data:[s.x+W(l[0],o),s.y+W(l[0],o)]}),c=[r+W(l[u],o),i+W(l[u],o)],h.push({op:"bcurveTo",data:[t+W(l[u],o),e+W(l[u],o),n+W(l[u],o),a+W(l[u],o),c[0],c[1]]});return s.setPosition(c[0],c[1]),h}function V(t,e,n,a){var r=[];switch(e.key){case"M":case"m":var i="m"===e.key;if(e.data.length>=2){var s=+e.data[0],o=+e.data[1];i&&(s+=t.x,o+=t.y);var h=1*(a.maxRandomnessOffset||0);s+=W(h,a),o+=W(h,a),t.setPosition(s,o),r.push({op:"move",data:[s,o]})}break;case"L":case"l":var l="l"===e.key;if(e.data.length>=2){var c=+e.data[0],f=+e.data[1];l&&(c+=t.x,f+=t.y),r=r.concat(G(t.x,t.y,c,f,a)),t.setPosition(c,f)}break;case"H":case"h":var p="h"===e.key;if(e.data.length){var d=+e.data[0];p&&(d+=t.x),r=r.concat(G(t.x,t.y,d,t.y,a)),t.setPosition(d,t.y)}break;case"V":case"v":var v="v"===e.key;if(e.data.length){var y=+e.data[0];v&&(y+=t.y),r=r.concat(G(t.x,t.y,t.x,y,a)),t.setPosition(t.x,y)}break;case"Z":case"z":t.first&&(r=r.concat(G(t.x,t.y,t.first[0],t.first[1],a)),t.setPosition(t.first[0],t.first[1]),t.first=null);break;case"C":case"c":var g="c"===e.key;if(e.data.length>=6){var b=+e.data[0],m=+e.data[1],x=+e.data[2],k=+e.data[3],M=+e.data[4],_=+e.data[5];g&&(b+=t.x,x+=t.x,M+=t.x,m+=t.y,k+=t.y,_+=t.y);var w=B(b,m,x,k,M,_,t,a);r=r.concat(w),t.bezierReflectionPoint=[M+(M-x),_+(_-k)]}break;case"S":case"s":var P="s"===e.key;if(e.data.length>=4){var O=+e.data[0],S=+e.data[1],A=+e.data[2],C=+e.data[3];P&&(O+=t.x,A+=t.x,S+=t.y,C+=t.y);var E=O,N=S,T=n?n.key:"",L=null;"c"!==T&&"C"!==T&&"s"!==T&&"S"!==T||(L=t.bezierReflectionPoint),L&&(E=L[0],N=L[1]);var j=B(E,N,O,S,A,C,t,a);r=r.concat(j),t.bezierReflectionPoint=[A+(A-O),C+(C-S)]}break;case"Q":case"q":var z="q"===e.key;if(e.data.length>=4){var R=+e.data[0],I=+e.data[1],F=+e.data[2],D=+e.data[3];z&&(R+=t.x,F+=t.x,I+=t.y,D+=t.y);var U=1*(1+.2*a.roughness),q=1.5*(1+.22*a.roughness);r.push({op:"move",data:[t.x+W(U,a),t.y+W(U,a)]});var Z=[F+W(U,a),D+W(U,a)];r.push({op:"qcurveTo",data:[R+W(U,a),I+W(U,a),Z[0],Z[1]]}),r.push({op:"move",data:[t.x+W(q,a),t.y+W(q,a)]}),Z=[F+W(q,a),D+W(q,a)],r.push({op:"qcurveTo",data:[R+W(q,a),I+W(q,a),Z[0],Z[1]]}),t.setPosition(Z[0],Z[1]),t.quadReflectionPoint=[F+(F-R),D+(D-I)]}break;case"T":case"t":var V="t"===e.key;if(e.data.length>=2){var X=+e.data[0],$=+e.data[1];V&&(X+=t.x,$+=t.y);var J=X,Q=$,H=n?n.key:"",K=null;"q"!==H&&"Q"!==H&&"t"!==H&&"T"!==H||(K=t.quadReflectionPoint),K&&(J=K[0],Q=K[1]);var Y=1*(1+.2*a.roughness),tt=1.5*(1+.22*a.roughness);r.push({op:"move",data:[t.x+W(Y,a),t.y+W(Y,a)]});var et=[X+W(Y,a),$+W(Y,a)];r.push({op:"qcurveTo",data:[J+W(Y,a),Q+W(Y,a),et[0],et[1]]}),r.push({op:"move",data:[t.x+W(tt,a),t.y+W(tt,a)]}),et=[X+W(tt,a),$+W(tt,a)],r.push({op:"qcurveTo",data:[J+W(tt,a),Q+W(tt,a),et[0],et[1]]}),t.setPosition(et[0],et[1]),t.quadReflectionPoint=[X+(X-J),$+($-Q)]}break;case"A":case"a":var nt="a"===e.key;if(e.data.length>=7){var at=+e.data[0],rt=+e.data[1],it=+e.data[2],st=+e.data[3],ot=+e.data[4],ht=+e.data[5],lt=+e.data[6];if(nt&&(ht+=t.x,lt+=t.y),ht===t.x&&lt===t.y)break;if(0===at||0===rt)r=r.concat(G(t.x,t.y,ht,lt,a)),t.setPosition(ht,lt);else for(var ct=0;ct<1;ct++)for(var ut=new u([t.x,t.y],[ht,lt],[at,rt],it,!!st,!!ot),ft=ut.getNextSegment();ft;){var pt=B(ft.cp1[0],ft.cp1[1],ft.cp2[0],ft.cp2[1],ft.to[0],ft.to[1],t,a);r=r.concat(pt),ft=ut.getNextSegment()}}}return r}var X=function(t){a(n,t);var e=h(n);function n(){return s(this,n),e.apply(this,arguments)}return o(n,[{key:"line",value:function(t,e,n,a,r){var i=this._options(r);return this._drawable("line",[E(t,e,n,a,i)],i)}},{key:"rectangle",value:function(t,e,n,a,r){var i=this._options(r),s=[];if(i.fill){var o=[[t,e],[t+n,e],[t+n,e+a],[t,e+a]];"solid"===i.fillStyle?s.push(z(o,i)):s.push(R(o,i))}return s.push(function(t,e,n,a,r){return function(t,e){return N(t,!0,e)}([[t,e],[t+n,e],[t+n,e+a],[t,e+a]],r)}(t,e,n,a,i)),this._drawable("rectangle",s,i)}},{key:"ellipse",value:function(t,e,n,a,r){var i=this._options(r),s=[];if(i.fill)if("solid"===i.fillStyle){var o=L(t,e,n,a,i);o.type="fillPath",s.push(o)}else s.push(function(t,e,n,a,r){return A(r,C).fillEllipse(t,e,n,a,r)}(t,e,n,a,i));return s.push(L(t,e,n,a,i)),this._drawable("ellipse",s,i)}},{key:"circle",value:function(t,e,n,a){var r=this.ellipse(t,e,n,n,a);return r.shape="circle",r}},{key:"linearPath",value:function(t,e){var n=this._options(e);return this._drawable("linearPath",[N(t,!1,n)],n)}},{key:"arc",value:function(t,e,n,a,r,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this._options(o),l=[];if(s&&h.fill)if("solid"===h.fillStyle){var c=j(t,e,n,a,r,i,!0,!1,h);c.type="fillPath",l.push(c)}else l.push(function(t,e,n,a,r,i,s){var o=A(s,C).fillArc(t,e,n,a,r,i,s);if(o)return o;var h=t,l=e,c=Math.abs(n/2),u=Math.abs(a/2);c+=W(.01*c,s),u+=W(.01*u,s);for(var f=r,p=i;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);for(var d=(p-f)/s.curveStepCount,v=[],y=f;y<=p;y+=d)v.push([h+c*Math.cos(y),l+u*Math.sin(y)]);return v.push([h+c*Math.cos(p),l+u*Math.sin(p)]),v.push([h,l]),R(v,s)}(t,e,n,a,r,i,h));return l.push(j(t,e,n,a,r,i,s,!0,h)),this._drawable("arc",l,h)}},{key:"curve",value:function(t,e){var n=this._options(e);return this._drawable("curve",[T(t,n)],n)}},{key:"polygon",value:function(t,e){var n=this._options(e),a=[];if(n.fill)if("solid"===n.fillStyle)a.push(z(t,n));else{var r=this.computePolygonSize(t),i=R([[0,0],[r[0],0],[r[0],r[1]],[0,r[1]]],n);i.type="path2Dpattern",i.size=r,i.path=this.polygonPath(t),a.push(i)}return a.push(N(t,!0,n)),this._drawable("polygon",a,n)}},{key:"path",value:function(t,e){var n=this._options(e),a=[];if(!t)return this._drawable("path",a,n);if(n.fill)if("solid"===n.fillStyle){var r={type:"path2Dfill",path:t,ops:[]};a.push(r)}else{var i=this.computePathSize(t),s=R([[0,0],[i[0],0],[i[0],i[1]],[0,i[1]]],n);s.type="path2Dpattern",s.size=i,s.path=t,a.push(s)}return a.push(function(t,e){t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var n=new c(t);if(e.simplification){var a=new f(n.linearPoints,n.closed).fit(e.simplification);n=new c(a)}for(var r=[],i=n.segments||[],s=0;s<i.length;s++){var o=V(n,i[s],s>0?i[s-1]:null,e);o&&o.length&&(r=r.concat(o))}return{type:"path",ops:r}}(t,n)),this._drawable("path",a,n)}}]),n}(e),$="undefined"!=typeof document,J=function(t){a(n,t);var e=h(n);function n(t,a){var r;return s(this,n),(r=e.call(this,t)).gen=new X(a||null,r.canvas),r}return o(n,[{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(t,e,n,a,r){var i=this.gen.line(t,e,n,a,r);return this.draw(i),i}},{key:"rectangle",value:function(t,e,n,a,r){var i=this.gen.rectangle(t,e,n,a,r);return this.draw(i),i}},{key:"ellipse",value:function(t,e,n,a,r){var i=this.gen.ellipse(t,e,n,a,r);return this.draw(i),i}},{key:"circle",value:function(t,e,n,a){var r=this.gen.circle(t,e,n,a);return this.draw(r),r}},{key:"linearPath",value:function(t,e){var n=this.gen.linearPath(t,e);return this.draw(n),n}},{key:"polygon",value:function(t,e){var n=this.gen.polygon(t,e);return this.draw(n),n}},{key:"arc",value:function(t,e,n,a,r,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this.gen.arc(t,e,n,a,r,i,s,o);return this.draw(h),h}},{key:"curve",value:function(t,e){var n=this.gen.curve(t,e);return this.draw(n),n}},{key:"path",value:function(t,e){var n=this.gen.path(t,e);return this.draw(n),n}},{key:"generator",get:function(){return this.gen}}]),n}(function(){function t(e){s(this,t),this.canvas=e,this.ctx=this.canvas.getContext("2d")}return o(t,[{key:"draw",value:function(t){var e,n=t.sets||[],a=t.options||this.getDefaultOptions(),r=this.ctx,i=l(n);try{for(i.s();!(e=i.n()).done;){var s=e.value;switch(s.type){case"path":r.save(),r.strokeStyle=a.stroke,r.lineWidth=a.strokeWidth,this._drawToContext(r,s),r.restore();break;case"fillPath":r.save(),r.fillStyle=a.fill||"",this._drawToContext(r,s),r.restore();break;case"fillSketch":this.fillSketch(r,s,a);break;case"path2Dfill":this.ctx.save(),this.ctx.fillStyle=a.fill||"";var o=new Path2D(s.path);this.ctx.fill(o),this.ctx.restore();break;case"path2Dpattern":var h=this.canvas.ownerDocument||$&&document;if(h){var c=s.size,u=h.createElement("canvas"),f=u.getContext("2d"),p=this.computeBBox(s.path);p&&(p.width||p.height)?(u.width=this.canvas.width,u.height=this.canvas.height,f.translate(p.x||0,p.y||0)):(u.width=c[0],u.height=c[1]),this.fillSketch(f,s,a),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(u,"repeat");var d=new Path2D(s.path);this.ctx.fill(d),this.ctx.restore()}else console.error("Cannot render path2Dpattern. No defs/document defined.")}}}catch(v){i.e(v)}finally{i.f()}}},{key:"computeBBox",value:function(t){if($)try{var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.setAttribute("width","0"),n.setAttribute("height","0");var a=self.document.createElementNS(e,"path");a.setAttribute("d",t),n.appendChild(a),document.body.appendChild(n);var r=a.getBBox();return document.body.removeChild(n),r}catch(t){}return null}},{key:"fillSketch",value:function(t,e,n){var a=n.fillWeight;a<0&&(a=n.strokeWidth/2),t.save(),t.strokeStyle=n.fill||"",t.lineWidth=a,this._drawToContext(t,e),t.restore()}},{key:"_drawToContext",value:function(t,e){t.beginPath();var n,a=l(e.ops);try{for(a.s();!(n=a.n()).done;){var r=n.value,i=r.data;switch(r.op){case"move":t.moveTo(i[0],i[1]);break;case"bcurveTo":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"qcurveTo":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"lineTo":t.lineTo(i[0],i[1])}}}catch(s){a.e(s)}finally{a.f()}"fillPath"===e.type?t.fill():t.stroke()}}]),t}()),Q="undefined"!=typeof document,H=function(t){a(n,t);var e=h(n);function n(t,a){var r;return s(this,n),(r=e.call(this,t)).gen=new X(a||null,r.svg),r}return o(n,[{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(t){return this.gen.opsToPath(t)}},{key:"line",value:function(t,e,n,a,r){var i=this.gen.line(t,e,n,a,r);return this.draw(i)}},{key:"rectangle",value:function(t,e,n,a,r){var i=this.gen.rectangle(t,e,n,a,r);return this.draw(i)}},{key:"ellipse",value:function(t,e,n,a,r){var i=this.gen.ellipse(t,e,n,a,r);return this.draw(i)}},{key:"circle",value:function(t,e,n,a){var r=this.gen.circle(t,e,n,a);return this.draw(r)}},{key:"linearPath",value:function(t,e){var n=this.gen.linearPath(t,e);return this.draw(n)}},{key:"polygon",value:function(t,e){var n=this.gen.polygon(t,e);return this.draw(n)}},{key:"arc",value:function(t,e,n,a,r,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this.gen.arc(t,e,n,a,r,i,s,o);return this.draw(h)}},{key:"curve",value:function(t,e){var n=this.gen.curve(t,e);return this.draw(n)}},{key:"path",value:function(t,e){var n=this.gen.path(t,e);return this.draw(n)}},{key:"generator",get:function(){return this.gen}}]),n}(function(){function t(e){s(this,t),this.svg=e}return o(t,[{key:"draw",value:function(t){var e,n=t.sets||[],a=t.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,i=r.createElementNS("http://www.w3.org/2000/svg","g"),s=l(n);try{for(s.s();!(e=s.n()).done;){var o=e.value,h=null;switch(o.type){case"path":(h=r.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this.opsToPath(o)),h.style.stroke=a.stroke,h.style.strokeWidth=a.strokeWidth+"",h.style.fill="none";break;case"fillPath":(h=r.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this.opsToPath(o)),h.style.stroke="none",h.style.strokeWidth="0",h.style.fill=a.fill||null;break;case"fillSketch":h=this.fillSketch(r,o,a);break;case"path2Dfill":(h=r.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",o.path||""),h.style.stroke="none",h.style.strokeWidth="0",h.style.fill=a.fill||null;break;case"path2Dpattern":if(this.defs){var c=o.size,u=r.createElementNS("http://www.w3.org/2000/svg","pattern"),f="rough-".concat(Math.floor(Math.random()*(Number.MAX_SAFE_INTEGER||999999)));u.setAttribute("id",f),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("height","1"),u.setAttribute("viewBox","0 0 ".concat(Math.round(c[0])," ").concat(Math.round(c[1]))),u.setAttribute("patternUnits","objectBoundingBox");var p=this.fillSketch(r,o,a);u.appendChild(p),this.defs.appendChild(u),(h=r.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",o.path||""),h.style.stroke="none",h.style.strokeWidth="0",h.style.fill="url(#".concat(f,")")}else console.error("Cannot render path2Dpattern. No defs/document defined.")}h&&i.appendChild(h)}}catch(d){s.e(d)}finally{s.f()}return i}},{key:"fillSketch",value:function(t,e,n){var a=n.fillWeight;a<0&&(a=n.strokeWidth/2);var r=t.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",this.opsToPath(e)),r.style.stroke=n.fill||null,r.style.strokeWidth=a+"",r.style.fill="none",r}},{key:"defs",get:function(){var t=this.svg.ownerDocument||Q&&document;if(t&&!this._defs){var e=t.createElementNS("http://www.w3.org/2000/svg","defs");this.svg.firstChild?this.svg.insertBefore(e,this.svg.firstChild):this.svg.appendChild(e),this._defs=e}return this._defs||null}}]),t}());return{canvas:function(t,e){return new J(t,e)},svg:function(t,e){return new H(t,e)},generator:function(t,e){return new X(t,e)}}}()},izcW:function(t,e){function n(e,a){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,a)}t.exports=n},puCe:function(t,e,n){var a=n("MvSq"),r=n("1i7X");t.exports=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?r(t):e}},rkO7:function(t,e,n){"use strict";n.d(e,"a",(function(){return nt}));var a=n("DaAx"),r=n.n(a),i=Math.PI,s=2*i,o=s-1e-6;function h(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new h}h.prototype=l.prototype={constructor:h,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+a)},bezierCurveTo:function(t,e,n,a,r,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +a+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(t,e,n,a,r){t=+t,e=+e,n=+n,a=+a,r=+r;var s=this._x1,o=this._y1,h=n-t,l=a-e,c=s-t,u=o-e,f=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(u*h-l*c)>1e-6&&r){var p=n-s,d=a-o,v=h*h+l*l,y=p*p+d*d,g=Math.sqrt(v),b=Math.sqrt(f),m=r*Math.tan((i-Math.acos((v+f-y)/(2*g*b)))/2),x=m/b,k=m/g;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*c)+","+(e+x*u)),this._+="A"+r+","+r+",0,0,"+ +(u*p>c*d)+","+(this._x1=t+k*h)+","+(this._y1=e+k*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,r,h){t=+t,e=+e,h=!!h;var l=(n=+n)*Math.cos(a),c=n*Math.sin(a),u=t+l,f=e+c,p=1^h,d=h?a-r:r-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+f:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+u+","+f),n&&(d<0&&(d=d%s+s),d>o?this._+="A"+n+","+n+",0,1,"+p+","+(t-l)+","+(e-c)+"A"+n+","+n+",0,1,"+p+","+(this._x1=u)+","+(this._y1=f):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=i)+","+p+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +a+"h"+-n+"Z"},toString:function(){return this._}};var c=l,u=function(t){return function(){return t}},f=Math.abs,p=Math.atan2,d=Math.cos,v=Math.max,y=Math.min,g=Math.sin,b=Math.sqrt,m=Math.PI,x=m/2,k=2*m;function M(t){return t>1?0:t<-1?m:Math.acos(t)}function _(t){return t>=1?x:t<=-1?-x:Math.asin(t)}function w(t){return t.innerRadius}function P(t){return t.outerRadius}function O(t){return t.startAngle}function S(t){return t.endAngle}function A(t){return t&&t.padAngle}function C(t,e,n,a,r,i,s,o){var h=n-t,l=a-e,c=s-r,u=o-i,f=u*h-c*l;if(!(f*f<1e-12))return[t+(f=(c*(e-i)-u*(t-r))/f)*h,e+f*l]}function E(t,e,n,a,r,i,s){var o=t-n,h=e-a,l=(s?i:-i)/b(o*o+h*h),c=l*h,u=-l*o,f=t+c,p=e+u,d=n+c,y=a+u,g=(f+d)/2,m=(p+y)/2,x=d-f,k=y-p,M=x*x+k*k,_=r-i,w=f*y-d*p,P=(k<0?-1:1)*b(v(0,_*_*M-w*w)),O=(w*k-x*P)/M,S=(-w*x-k*P)/M,A=(w*k+x*P)/M,C=(-w*x+k*P)/M,E=O-g,N=S-m,T=A-g,L=C-m;return E*E+N*N>T*T+L*L&&(O=A,S=C),{cx:O,cy:S,x01:-c,y01:-u,x11:O*(r/_-1),y11:S*(r/_-1)}}var N=n("3f79"),T=n.n(N),L=n("cM+M"),j=n.n(L);function z(){return(z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function R(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}var I=function(t,e){var n,r,i=Object(a.useRef)([]);void 0===(n=i.current)&&(n=[]),void 0===(r=e)&&(r=[]),n.length===r.length&&n.every((function(t,e){return T()(t,r[e])}))||(i.current=e),Object(a.useEffect)(t,i.current)},W=Object(a.createContext)(null),G=function(t,e,n){Object.keys(n).forEach((function(a){var r=a.replace("on","").toLowerCase();t[e](r,n[a])}))},F=function(t,e){var n=z({},{opacity:"0",fill:"black",stroke:"black"},{},e),a=t;if("arc"===t){a="path";var r=function(){var t=w,e=P,n=u(0),a=null,r=O,i=S,s=A,o=null;function h(){var h,l,u=+t.apply(this,arguments),v=+e.apply(this,arguments),w=r.apply(this,arguments)-x,P=i.apply(this,arguments)-x,O=f(P-w),S=P>w;if(o||(o=h=c()),v<u&&(l=v,v=u,u=l),v>1e-12)if(O>k-1e-12)o.moveTo(v*d(w),v*g(w)),o.arc(0,0,v,w,P,!S),u>1e-12&&(o.moveTo(u*d(P),u*g(P)),o.arc(0,0,u,P,w,S));else{var A,N,T=w,L=P,j=w,z=P,R=O,I=O,W=s.apply(this,arguments)/2,G=W>1e-12&&(a?+a.apply(this,arguments):b(u*u+v*v)),F=y(f(v-u)/2,+n.apply(this,arguments)),D=F,U=F;if(G>1e-12){var q=_(G/u*g(W)),Z=_(G/v*g(W));(R-=2*q)>1e-12?(j+=q*=S?1:-1,z-=q):(R=0,j=z=(w+P)/2),(I-=2*Z)>1e-12?(T+=Z*=S?1:-1,L-=Z):(I=0,T=L=(w+P)/2)}var B=v*d(T),V=v*g(T),X=u*d(z),$=u*g(z);if(F>1e-12){var J,Q=v*d(L),H=v*g(L),K=u*d(j),Y=u*g(j);if(O<m&&(J=C(B,V,K,Y,Q,H,X,$))){var tt=B-J[0],et=V-J[1],nt=Q-J[0],at=H-J[1],rt=1/g(M((tt*nt+et*at)/(b(tt*tt+et*et)*b(nt*nt+at*at)))/2),it=b(J[0]*J[0]+J[1]*J[1]);D=y(F,(u-it)/(rt-1)),U=y(F,(v-it)/(rt+1))}}I>1e-12?U>1e-12?(A=E(K,Y,B,V,v,U,S),N=E(Q,H,X,$,v,U,S),o.moveTo(A.cx+A.x01,A.cy+A.y01),U<F?o.arc(A.cx,A.cy,U,p(A.y01,A.x01),p(N.y01,N.x01),!S):(o.arc(A.cx,A.cy,U,p(A.y01,A.x01),p(A.y11,A.x11),!S),o.arc(0,0,v,p(A.cy+A.y11,A.cx+A.x11),p(N.cy+N.y11,N.cx+N.x11),!S),o.arc(N.cx,N.cy,U,p(N.y11,N.x11),p(N.y01,N.x01),!S))):(o.moveTo(B,V),o.arc(0,0,v,T,L,!S)):o.moveTo(B,V),u>1e-12&&R>1e-12?D>1e-12?(A=E(X,$,Q,H,u,-D,S),N=E(B,V,K,Y,u,-D,S),o.lineTo(A.cx+A.x01,A.cy+A.y01),D<F?o.arc(A.cx,A.cy,D,p(A.y01,A.x01),p(N.y01,N.x01),!S):(o.arc(A.cx,A.cy,D,p(A.y01,A.x01),p(A.y11,A.x11),!S),o.arc(0,0,u,p(A.cy+A.y11,A.cx+A.x11),p(N.cy+N.y11,N.cx+N.x11),S),o.arc(N.cx,N.cy,D,p(N.y11,N.x11),p(N.y01,N.x01),!S))):o.arc(0,0,u,z,j,S):o.lineTo(X,$)}else o.moveTo(0,0);if(o.closePath(),h)return o=null,h+""||null}return h.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,a=(+r.apply(this,arguments)+ +i.apply(this,arguments))/2-m/2;return[d(a)*n,g(a)*n]},h.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:u(+e),h):t},h.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:u(+t),h):e},h.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:u(+t),h):n},h.padRadius=function(t){return arguments.length?(a=null==t?null:"function"==typeof t?t:u(+t),h):a},h.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:u(+t),h):r},h.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:u(+t),h):i},h.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:u(+t),h):s},h.context=function(t){return arguments.length?(o=null==t?null:t,h):o},h}(),i=n,s=i.innerRadius,o=i.outerRadius,h=i.startAngle,l=i.endAngle,v=i.x,N=i.y,T=R(i,["innerRadius","outerRadius","startAngle","endAngle","x","y"]),L=r({innerRadius:s||0,outerRadius:o||0,startAngle:h||0,endAngle:l||0});n=z({},n,{},T,{d:L,transform:"translate("+v+", "+N+")"})}var j=document.createElementNS("http://www.w3.org/2000/svg",a);return Object.keys(n).forEach((function(t){j.setAttribute(t,n[t])})),j};function D(t,e,n){void 0===n&&(n={});var r=Object(a.useContext)(W),i=Object(a.useRef)(null),s=Object(a.useRef)(null);if(!r)throw Error("Wrap Component inside <RoughProvider>");var o=n,h=o.transform,l=o.opacity,c=o.onClick,u=o.onMouseOut,f=o.onMouseOver,p=o.cursor,d=o.strokeDasharray,v={onClick:c,onMouseOut:u,onMouseOver:f,onMouseMove:o.onMouseMove},y=function(t,e){Object.keys(e).forEach((function(n){"strokeDasharray"!==n?void 0!==e[n]&&t.setAttribute(n,e[n]):t.setAttribute("stroke-dasharray",e[n])}))};return Object(a.useEffect)((function(){i.current&&y(i.current,{transform:h,opacity:l,cursor:p,strokeDasharray:d}),s.current&&y(s.current,{transform:h})}),[h,l,p,d]),I((function(){if(r.root){var n,a=(n=r.rough)[t].apply(n,e);i.current=a;var o=function(){var n;switch(t){case"rectangle":return F("rect",{x:e[0],y:e[1],width:e[2],height:e[3]});case"path":var a=e[1]||{};return F("path",{d:e[0],fill:a.fill?"black":"none"});default:var i=z({},e[e.length-1]||{},{fill:"black",fillStyle:"solid"}),s=[].concat(e.slice(0,e.length-1),[i]),o=(n=r.rough)[t].apply(n,s);return o.setAttribute("opacity","0"),o}}();return s.current=o,y(a,{transform:h,opacity:l,cursor:p,strokeDasharray:d}),r.root.appendChild(a),o?(G(o,"addEventListener",v),y(o,{transform:h,cursor:p}),r.root.appendChild(o)):G(a,"addEventListener",v),function(){i.current=null,r.root.removeChild(a),o?(s.current=null,G(o,"removeEventListener",v),r.root.removeChild(o)):G(a,"removeEventListener",v)}}return function(){}}),[r.root].concat(e)),r}var U=function(t){return D("arc",[t.x,t.y,t.width,t.height,t.start,t.stop,t.closed,t.options],t),null};U.displayName="Arc",U.defaultProps={x:0,y:0,width:0,height:0,start:0,stop:Math.PI/2,closed:!1};var q=function(t){return D("circle",[t.x,t.y,t.diameter,t.options],t),null};q.displayName="Circle",q.defaultProps={x:0,y:0,diameter:0};var Z=function(t){return D("curve",[t.points,t.options],t),null};Z.displayName="Curve",Z.defaultProps={points:[[0,0]]};var B=function(t){return D("ellipse",[t.x,t.y,t.width,t.height,t.options],t),null};B.displayName="Ellipse",B.defaultProps={x:0,y:0,width:0,height:0};var V=function(t){var e=t.x1,n=t.x2;return D("line",[e,t.y1,n,t.y2,t.options],t),null};V.displayName="Line",V.defaultProps={x1:0,x2:0,y1:0,y2:0};var X=function(t){return D("linearPath",[t.points,t.options],t),null};X.displayName="LinearPath",X.defaultProps={points:[]};var $=function(t){return D("path",[t.d,t.options],t),null};$.displayName="Path",$.defaultProps={d:""};var J=function(t){return D("polygon",[t.vertices,t.options],t),null};J.displayName="Polygon",J.defaultProps={vertices:[]};var Q=function(t){return D("rectangle",[t.x,t.y,t.width,t.height,t.options],t),null};Q.displayName="Rectangle",Q.defaultProps={x:0,y:0,width:0,height:0};var H=function t(e){t.displayName="RoughProvider";var n=W.Provider,r=e.config,i=R(e,["config"]),s=Object(a.useRef)(),o=Object(a.useState)({root:null,rough:null}),h=o[0],l=o[1];return Object(a.useEffect)((function(){l({root:s.current,rough:j.a.svg(s.current,e.config)})}),[s.current,r]),Object(a.createElement)(n,{value:h},Object(a.createElement)("g",Object.assign({},i,{ref:s})))},K=n("7Qib"),Y=n("lUEA"),tt=function(t){var e=t.seats,n=Object(Y.a)().fontOverride,a=[],i=0;for(var s in e)e[s].overhang&&(i+=e[s].overhang),e[s].party&&a.push(e[s]);return a.sort((function(t,e){return e.allocated-t.allocated})),r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{x:132,y:165,className:"total-seats"},120+i," seats"),r.a.createElement(Q,{x:100,y:180,width:160,height:27*a.length,options:{roughness:3}}),a.map((function(t,e){return t.overhang&&(t.allocated=t.allocated+t.overhang),t.party?r.a.createElement(r.a.Fragment,{key:t.party},r.a.createElement(q,{x:120,y:200+25*e,diameter:14,options:K.c[t.party]}),r.a.createElement("text",{x:132,y:205+25*e,className:n},t.allocated," ",t.party)):null})))},et=n("/imn"),nt=function(t){var e=t.coordinates,n=t.seats,a=t.year,i=480,s=e.map((function(t,e){if(!n)return t.options=K.c.empty,t;for(var a=0,r=0;r<n.length;r++)if(e<(a+=n[r].allocated))return t.options=K.c[n[r].party],t;return null}));if(n){var o=Object(et.b)();for(var h in n)if(n[h].overhang)for(var l=n[h].overhang;l>0;)s.push(Object.assign({},o[0],{options:K.c[n[h].party]})),o.shift(),l--;n.length>10&&(i+=20*(n.length-10))}return r.a.createElement("svg",{viewBox:"0 0 360 "+i},r.a.createElement(H,null,s.map((function(t,e){return r.a.createElement(q,{x:t.x,y:t.y,diameter:t.diameter,options:t.options,key:e})})),r.a.createElement(tt,{seats:n}),"2020"!==a&&r.a.createElement("text",{x:150,y:22*n.length+220},a)))}}}]);
//# sourceMappingURL=0de447c257b0e9979b75209300856b550e75fcdf-f80645049406d49f469c.js.map